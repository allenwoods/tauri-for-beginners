# 层叠顺序(Z-Index)

CSS 中的 z-index 属性是一个强大的工具，它控制网页上重叠元素的垂直堆叠顺序。此属性对于管理元素的可见性和分层至关重要，确保最重要的内容对用户可访问。但是，它只对具有非 static 位置值的元素有效，如 relative、absolute、fixed 或 sticky。

#### 理解堆叠上下文

要完全掌握 z-index 的概念，理解堆叠上下文至关重要。堆叠上下文是包含具有特定堆叠顺序的层组的元素。当元素被定位并具有非 auto 的 z-index 值时，它会形成新的堆叠上下文。每个堆叠上下文都是独立处理的，这意味着堆叠上下文内的元素相对于彼此堆叠，而不影响其他堆叠上下文中元素的堆叠顺序。

#### 创建堆叠上下文

有几种方法可以创建新的堆叠上下文：

- 在定位元素上设置 z-index 值。
- 应用小于 1 的 opacity 值。
- 使用 CSS 属性如 transform、filter、perspective、clip-path 和 mask。

这些属性不仅创建新的堆叠上下文，还影响元素的渲染和视觉效果。

#### 默认堆叠顺序

默认情况下，网页上的元素按从下到上的特定顺序堆叠：

- 1. 根元素的背景和边框。
- 2. 按它们在 HTML 中出现的顺序排列的后代非定位元素。
- 3. 按它们在 HTML 中出现的顺序排列的后代定位元素。

此默认堆叠顺序确保背景元素首先渲染，然后是非定位元素，最后是定位元素。

#### 实际示例

为了说明 z-index 的工作原理，请考虑以下示例：

```css
.container {
    position: relative;
}
.box1 {
    position: absolute;
    top: 20px;
    left: 30px;
    z-index: 1; /* 这将出现在 .box2 下方 */
}
.box2 {
    position: absolute;
    top: 40px;
    left: 50px;
    z-index: 2; /* 这将出现在 .box1 上方 */
}
```

在此示例中，.box2 将出现在 .box1 上方，因为它具有更高的 z-index 值。这演示了如何使用 z-index 来控制重叠元素的分层。

#### 使用负 Z-Index 值

元素也可以具有负 z-index，这会将它们放置在具有 0 或更高 z-index 的其他元素后面。例如：

```css
.background {
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1; /* 这将出现在具有 z-index 0 或更高的元素后面 */
}
```

这种技术对于创建应该出现在所有其他内容后面的背景元素很有用。

#### Z-Index 的实际用例

z-index 属性在各种场景中特别有用，例如：

- **模态框和弹出窗口**：确保它们出现在其他内容之上以吸引用户注意力。
- **工具提示**：显示在其他元素之上以提供附加信息。
- **重叠图像**：控制哪个图像出现在顶部以创建视觉上吸引人的设计。

通过掌握 z-index 属性，您可以有效地管理网页上元素的分层，确保最重要的内容始终对用户可见和可访问。

有效理解和使用 z-index 属性可以帮助管理网页上元素的分层，确保最重要的内容对用户可见和可访问。

